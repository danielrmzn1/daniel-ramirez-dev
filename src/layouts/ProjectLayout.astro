---
import BaseLayout from './BaseLayout.astro';
import Navbar from '../components/astro/Navbar.astro';
import Footer from '../components/astro/Footer.astro';
import ThemeController from '../components/react/ThemeController';

interface Props {
	title: string;
	description?: string;
	role: string;
	duration: string;
	company: string;
	tags: string[];
}

const { title, description, role, duration, company, tags } = Astro.props;
---

<BaseLayout title={`${title} | Daniel Ramirez`} description={description}>
	<Navbar slot="header">
		<ThemeController client:only="react" slot="right" />
	</Navbar>

	<article class="py-16 px-4 md:px-8 max-w-4xl mx-auto">
		<!-- Back Button -->
		<a href="/projects" class="btn btn-ghost mb-8 gap-2 pl-0 hover:bg-transparent hover:text-primary transition-colors">
			<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
				<path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
			</svg>
			Back to Projects
		</a>

		<!-- Project Header -->
		<header class="mb-12">
			<h1 class="text-5xl font-bold mb-6 tracking-tight">{title}</h1>
			<div class="flex flex-wrap gap-4 items-center text-sm text-base-content/70">
				<div class="flex items-center gap-2">
					<span class="font-semibold text-base-content">Company:</span> {company}
				</div>
				<div class="divider divider-horizontal hidden sm:flex"></div>
				<div class="flex items-center gap-2">
					<span class="font-semibold text-base-content">Role:</span> {role}
				</div>
				<div class="divider divider-horizontal hidden sm:flex"></div>
				<div class="flex items-center gap-2">
					<span class="font-semibold text-base-content">Duration:</span> {duration}
				</div>
			</div>
			
			<div class="flex flex-wrap gap-2 mt-8">
				{tags.map(tag => (
					<span class="badge badge-outline py-3 px-4">{tag}</span>
				))}
			</div>
		</header>

		<!-- Content Slot -->
		<div class="prose prose-lg max-w-none prose-headings:font-bold prose-headings:tracking-tight prose-a:text-primary prose-img:rounded-2xl">
			<slot />
		</div>
	</article>

	<Footer slot="footer" />
</BaseLayout>

<style is:global>
	@reference "../styles/global.css";

	.prose h2 {
		@apply mt-12 mb-6 text-3xl;
	}
	.prose h3 {
		@apply mt-8 mb-4 text-2xl;
	}
	.prose ul {
		@apply my-6 list-disc list-inside;
	}
	.prose li {
		@apply mb-2;
	}
</style>
